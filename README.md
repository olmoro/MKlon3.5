# <p align="center"> MKlon3.5
## <p align="center">Зарядное устройство на модулях ESP32DEVKITCV4, SAMD21 MINI и ILI9486 3.5".
### <p align="center">(реализация конечного автомата в проекте зарядного устройства)
## <p align="center">Проект Arduino.
#### <p align="right">2023.05.05

### MKlon3.5 - это вариант компоновки проекта MKlon2 с сохранением основных параметров, исключая разве что пользовательский интерфейс, реализованный на дисплее ILI9486 3.5 дюйма с сенсорной панелью. Реализована "этажерочная"  конструкция из трёх плат: дисплей и две платы размером 100х62 мм — плата управления и силовая плата. Используя преимущества четырехточечного подключения заряжаемой батареи применены силовые ноутбучные разъёмы. Как вариант прибор может быть дополнен выносным пультом управления, дублирующим управление семейством зарядных устройств (5-кнопочная клавиатура, карта памяти SD-фактора, 6 разъёмов безадресного подключения DS18B20, индикатор 128х128) - по беспроводной связи с базовым блоком. Предусмотрены также разъемы для подключения логического анализатора к выводам обоих модулей - ESP32 и SAMD21 и сигнальные светодиоды.

### Аппаратная часть проектировалась в среде Eagle v7.3.0, программная - в PlatformIO. 

<a name="menu"></a>
1. [Как это работает. Аппаратный аспект.](#hard)
- [Межпроцессорное соединение.](#cpu)
- [Межпроцессорный обмен.](#uart)
- [Измерители.](#measure)
- [Схема разряда.](#discharge)
- [Подключение заряжаемой батареи.](#akb)
- [Питание модулей.](#dc5v)
- [Силовой DC/DC преобразователь.](#power)
- [Подключение вентилятора.](#cooler)
- [Пульт-логгер.](#pult)
2. [Как это работает. Программный аспект](#soft)
- [Структура проекта](#main)
- [State.](#state)
- [Вычисление среднего](#sum)
3. [Технические характеристики](#specifications)
4. [FSM](#fsm)
5. [Первый проект](#first_project)
6. [Драйвер SAMD21](#driver)
- [Выбор аналоговых портов](#port)
- [Коэффициент пересчета в миллиамперы](#kma)
- [Коэффициент пересчета в милливольтры](#kmv)
- [Выбор таймера ШИМ](#timer2")
- [Выбор ПИД-регулятора](#fast_pid)
- [Подбор параметров](#par_pid)
7. [Документы](#docs)
- [Схема платы управления](#sch1)
- [Схема силовой платы](#sch2)
8. [Полезные ссылки](#useful_links)
9. [About Me](#about)

***
<p align="center">![](https://github.com/olmoro/MKlon3.5/blob/main/documents/full/img/MKlon3.5full.png)
